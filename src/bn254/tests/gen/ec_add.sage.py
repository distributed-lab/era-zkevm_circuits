

# This file was *autogenerated* from the file ec_add.sage
from sage.all_cmdline import *   # import sage library

_sage_const_100 = Integer(100); _sage_const_21888242871839275222246405745257275088696311157297823662689037894645226208583 = Integer(21888242871839275222246405745257275088696311157297823662689037894645226208583); _sage_const_0 = Integer(0); _sage_const_3 = Integer(3); _sage_const_1 = Integer(1); _sage_const_4 = Integer(4)#! File for generating tests for testing elliptic curve addition
import json

TESTS_NUMBER = _sage_const_100  # How many tests to generate

# Defining the curve
Fp = GF(_sage_const_21888242871839275222246405745257275088696311157297823662689037894645226208583 )
E = EllipticCurve(Fp, [_sage_const_0 , _sage_const_3 ])
print(f'We use {E}')

# Generating tests
print('Preparing the tests...')
tests_dict = {'tests': []}
for _ in range(TESTS_NUMBER):
    A = E.random_point()
    B = E.random_point()
    C = A + B

    tests_dict['tests'].append({
        'point_1': {
            'x': str(A[_sage_const_0 ]), 
            'y': str(A[_sage_const_1 ])
        },
        'point_2': {
            'x': str(B[_sage_const_0 ]), 
            'y': str(B[_sage_const_1 ])
        },
        'expected': {
            'x': str(C[_sage_const_0 ]), 
            'y': str(C[_sage_const_1 ])
        }
    })

print('Tests formed successfully!')

# Saving the json file
FILE_NAME = '../json/ecadd_tests.json'

print(f'Saving the tests to {FILE_NAME}...')
with open(FILE_NAME, 'w') as f:
    json.dump(tests_dict, f, indent=_sage_const_4 )

print('Successfully saved the tests!')

